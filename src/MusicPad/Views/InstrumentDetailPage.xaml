<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MusicPad.Views.InstrumentDetailPage"
             Title="Instrument Details"
             BackgroundColor="{StaticResource BackgroundPage}">
    
    <ScrollView Padding="20">
        <StackLayout Spacing="20">
            <!-- Instrument Name -->
            <Label x:Name="InstrumentNameLabel" 
                   FontSize="28" 
                   FontAttributes="Bold"
                   TextColor="{StaticResource TextPrimary}"
                   HorizontalTextAlignment="Center"/>
            
            <!-- Loading Indicator -->
            <ActivityIndicator x:Name="LoadingIndicator"
                               IsRunning="True"
                               IsVisible="True"
                               Color="{StaticResource Secondary}"
                               HeightRequest="50"/>
            
            <!-- Content Container -->
            <StackLayout x:Name="ContentContainer" IsVisible="False" Spacing="16">
                
                <!-- Settings Section -->
                <Border StrokeShape="RoundRectangle 12"
                        Stroke="{StaticResource SurfaceBorder}"
                        BackgroundColor="{StaticResource Surface}"
                        Padding="16">
                    <StackLayout Spacing="12">
                        <Label Text="Instrument Settings" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="{StaticResource Secondary}"
                               Margin="0,0,0,4"/>
                        
                        <!-- Voicing Setting -->
                        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto">
                            <Label Text="Voicing"
                                   FontSize="14"
                                   TextColor="{StaticResource TextPrimary}"
                                   VerticalOptions="Center"
                                   Grid.Column="0"
                                   Grid.Row="0"/>
                            <Label Text="Single note or multiple notes at once"
                                   FontSize="11"
                                   TextColor="{StaticResource TextMuted}"
                                   Grid.Column="0"
                                   Grid.Row="1"/>
                            <HorizontalStackLayout Grid.Column="1" Grid.RowSpan="2" Spacing="8" VerticalOptions="Center">
                                <Button x:Name="PolyphonicBtn"
                                        Text="Poly"
                                        FontSize="12"
                                        CornerRadius="6"
                                        Padding="12,6"
                                        HeightRequest="32"
                                        Clicked="OnPolyphonicClicked"/>
                                <Button x:Name="MonophonicBtn"
                                        Text="Mono"
                                        FontSize="12"
                                        CornerRadius="6"
                                        Padding="12,6"
                                        HeightRequest="32"
                                        Clicked="OnMonophonicClicked"/>
                            </HorizontalStackLayout>
                        </Grid>
                        
                        <BoxView HeightRequest="1" Color="{StaticResource SurfaceBorder}" HorizontalOptions="Fill"/>
                        
                        <!-- Pitch Type Setting -->
                        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto">
                            <Label Text="Pitch Type"
                                   FontSize="14"
                                   TextColor="{StaticResource TextPrimary}"
                                   VerticalOptions="Center"
                                   Grid.Column="0"
                                   Grid.Row="0"/>
                            <Label Text="Melodic instrument or percussion"
                                   FontSize="11"
                                   TextColor="{StaticResource TextMuted}"
                                   Grid.Column="0"
                                   Grid.Row="1"/>
                            <HorizontalStackLayout Grid.Column="1" Grid.RowSpan="2" Spacing="8" VerticalOptions="Center">
                                <Button x:Name="PitchedBtn"
                                        Text="Pitched"
                                        FontSize="12"
                                        CornerRadius="6"
                                        Padding="12,6"
                                        HeightRequest="32"
                                        Clicked="OnPitchedClicked"/>
                                <Button x:Name="UnpitchedBtn"
                                        Text="Unpitched"
                                        FontSize="12"
                                        CornerRadius="6"
                                        Padding="12,6"
                                        HeightRequest="32"
                                        Clicked="OnUnpitchedClicked"/>
                            </HorizontalStackLayout>
                        </Grid>
                    </StackLayout>
                </Border>
                
                <!-- Credits Section -->
                <Border StrokeShape="RoundRectangle 12"
                        Stroke="{StaticResource SurfaceBorder}"
                        BackgroundColor="{StaticResource Surface}"
                        Padding="16">
                    <StackLayout Spacing="8">
                        <Label Text="Credits" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="{StaticResource Secondary}"
                               Margin="0,0,0,4"/>
                        
                        <StackLayout Spacing="6">
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Sound Engineer:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="SoundEngineerLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Created:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="CreationDateLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Editor:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="EditorLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </Border>
                
                <!-- Technical Info Section -->
                <Border StrokeShape="RoundRectangle 12"
                        Stroke="{StaticResource SurfaceBorder}"
                        BackgroundColor="{StaticResource Surface}"
                        Padding="16">
                    <StackLayout Spacing="8">
                        <Label Text="Technical Information" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="{StaticResource Secondary}"
                               Margin="0,0,0,4"/>
                        
                        <StackLayout Spacing="6">
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Internal Name:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="InternalNameLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Source:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="SourceFileLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"
                                       LineBreakMode="TailTruncation"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Soundfont:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="SoundfontVersionLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Key Range:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="KeyRangeLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Regions:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="RegionCountLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </Border>
                
                <!-- Conversion Info Section -->
                <Border StrokeShape="RoundRectangle 12"
                        Stroke="{StaticResource SurfaceBorder}"
                        BackgroundColor="{StaticResource Surface}"
                        Padding="16">
                    <StackLayout Spacing="8">
                        <Label Text="Conversion Info" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="{StaticResource Secondary}"
                               Margin="0,0,0,4"/>
                        
                        <StackLayout Spacing="6">
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Converter:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="ConverterLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Converted:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="ConversionDateLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"/>
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="8">
                                <Label Text="Copyright:" 
                                       FontSize="14" TextColor="{StaticResource TextSecondary}" WidthRequest="120"/>
                                <Label x:Name="CopyrightLabel" 
                                       FontSize="14" TextColor="{StaticResource TextPrimary}"
                                       LineBreakMode="WordWrap"/>
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </Border>
                
                <!-- Select Button -->
                <Button x:Name="SelectButton"
                        Text="Select Instrument"
                        BackgroundColor="{StaticResource Secondary}"
                        TextColor="{StaticResource White}"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        HeightRequest="50"
                        Margin="0,10"
                        Clicked="OnSelectClicked"/>
            </StackLayout>
        </StackLayout>
    </ScrollView>
</ContentPage>
