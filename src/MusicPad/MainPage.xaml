<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:MusicPad"
             x:Class="MusicPad.MainPage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="#1a1a2e">

    <Grid Padding="8" RowDefinitions="Auto,Auto,*,Auto">
        
        <!-- Header with commit hash, padrea picker, instrument picker, scale picker -->
        <Grid ColumnDefinitions="Auto,*,Auto,Auto">
            <Label Text="{x:Static local:BuildInfo.CommitHash}"
                   FontSize="8"
                   TextColor="#CC0000"
                   VerticalOptions="Center"
                   Margin="4,0" />
            
            <Picker x:Name="PadreaPicker"
                    Grid.Column="1"
                    Title="Select Padrea"
                    TitleColor="#888"
                    TextColor="White"
                    BackgroundColor="#2a2a4e"
                    HorizontalOptions="Start"
                    Margin="8,0"
                    SelectedIndexChanged="OnPadreaChanged" />
            
            <Picker x:Name="InstrumentPicker"
                    Grid.Column="2"
                    Title="Select Instrument"
                    TitleColor="#888"
                    TextColor="White"
                    BackgroundColor="#2a2a4e"
                    HorizontalOptions="End"
                    SelectedIndexChanged="OnInstrumentChanged" />

            <Picker x:Name="ScalePicker"
                    Grid.Column="3"
                    Title="Select Scale"
                    TitleColor="#888"
                    TextColor="White"
                    BackgroundColor="#2a2a4e"
                    HorizontalOptions="End"
                    IsVisible="False"
                    SelectedIndexChanged="OnScaleChanged" />
        </Grid>
        
        <!-- Volume Knob -->
        <GraphicsView x:Name="VolumeKnob"
                      Grid.Row="1"
                      HeightRequest="120"
                      WidthRequest="120"
                      HorizontalOptions="Center"
                      Margin="0,8" />
        
        <!-- Pad Area -->
        <Grid x:Name="PadAreaGrid"
              Grid.Row="2"
              Margin="0,4"
              ColumnDefinitions="Auto,*"
              HorizontalOptions="Fill"
              VerticalOptions="Fill">

            <ContentView x:Name="VolumeLeftHost"
                         Grid.Column="0"
                         HorizontalOptions="Center"
                         VerticalOptions="Center" />

            <!-- Pad Container -->
            <Grid x:Name="PadContainer" 
                  Grid.Column="1"
                  HorizontalOptions="Fill"
                  VerticalOptions="Fill">
                
                <Label x:Name="LoadingLabel"
                       Text="Loading..."
                       FontSize="18"
                       TextColor="#666"
                       HorizontalOptions="Center"
                       VerticalOptions="Center" />
            </Grid>
        </Grid>
        
        <!-- Status Bar -->
        <Label Grid.Row="3"
               x:Name="StatusLabel"
               Text="Loading instruments..."
               FontSize="12"
               TextColor="#888"
               HorizontalOptions="Center"
               Margin="0,4" />
        
    </Grid>

</ContentPage>
